<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        table {
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th,
        td {
            padding: 10px;
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <h2>Data Table</h2>
    <table id="myTable">
        <tr>
            <th>Column 1</th>
            <th>Column 2</th>
        </tr>
    </table>

    <button id="data1Button">Data 1</button>
    <button id="data2Button">Data 2</button>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
        // Sample data
        const data1 = {
            key1: "Value 1",
            key2: "Value 2",
            key3: "Value 3",
            key4: "Value 4"
        };

        const data2 = {
            key1: "Value 2",
            key2: "Value 4",
            key3: "Value 1",
            key4: "Value 3"
        };

        // Define the initial data
        let currentData = data1;

        // Create the table with initial data
        let table = d3.select("#myTable")
            .selectAll("tr")
            .data(Object.entries(currentData))
            .enter()
            .append("tr");

        // Add cells to the table rows
        table.append("td")
            .text(d => d[0]);

        table.append("td")
            .text(d => d[1]);

        // Function to update the table with new data
        function updateTable(newData) {
            // Update the current data
            currentData = newData;

            // Select the table rows
            let rows = d3.select("#myTable")
                .selectAll("tr")
                .data(Object.entries(currentData));

            // Remove any rows that are not present in the new data
            rows.exit()
                .remove();

            // Update existing rows
            rows.select("td")
                .transition()
                .duration(500)
                .text(d => d[1]);

            // Add new rows for the new data
            let newRows = rows.enter()
                .append("tr");

            newRows.append("td")
                .text(d => d[0])
                .style("opacity", 0)
                .transition()
                .duration(500)
                .style("opacity", 1);

            newRows.append("td")
                .text(d => d[1])
                .style("opacity", 0)
                .transition()
                .duration(500)
                .style("opacity", 1);
        }

        // Event handlers for the buttons
        d3.select("#data1Button").on("click", () => {
            updateTable(data1);
        });

        d3.select("#data2Button").on("click", () => {
            updateTable(data2);
        });
    </script>
</body>

</html>