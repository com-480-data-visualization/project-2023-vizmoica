<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<link href="../../style.css" rel="stylesheet" type="text/css">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
		crossorigin="anonymous"></script>

	<title>COM-480 Data visualization</title>

	<!-- Load d3.js -->
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<!--<script src="https://d3js.org/d3.v7.min.js"></script>-->

	<!-- Color scale -->
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

	<script src="../utils.js"></script>
</head>

<body>
	<!-- Visualization 3: World map -->
	<div id="graph3">
		<!-- Introductory phrase -->
		<h3 id="map-catchphrase"> A very diverse community... </h3>

		<!-- Map option panel -->
		<div id="map-options">
			<select id="country-selector" class="form-select form-select-lg mb-3" aria-label=".form-select-lg country">
			</select>
			<!-- <button id="map-btn" class="btn btn-default">Filter</button> -->
		</div>

		<!-- Main content -->
		<div class="row no-gutters">
			<!-- World map -->
			<div class="col-7 no-gutters">
				<div id="map-holder" class="leftside">
					<!--<svg id="map" class="svg-content" viewBox="100 0 870 450"></svg>-->
				</div>
			</div>

			<!-- Information Pane -->
			<div class="col no-gutters">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active" id="studio-tab" data-bs-toggle="tab" data-bs-target="#studio"
							type="button" role="tab" aria-controls="studio" aria-selected="true">Home</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link" id="country-tab" data-bs-toggle="tab" data-bs-target="#country"
							type="button" role="tab" aria-controls="country" aria-selected="false">Country</button>
					</li>
				</ul>
				<div class="tab-content" id="myTabContent">
					<!-- Default Pane -->
					<div class="tab-pane fade show active" id="studio" role="tabpanel" aria-labelledby="studio-tab">
						<p>Select or click on a country to visualize statistics about it.</p>
						<table id="rankTable">
							<caption> The countries with largest communities </caption>
							<thead>
								<tr>
									<th>Ranking</th>
									<th>Country</th>
									<th>Number of <i>otakus</i></th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>

					<!-- Country Pane -->
					<div class="tab-pane fade" id="country" role="tabpanel" aria-labelledby="country-tab">
						<div class="container">
							<!-- Country general information -->
							<div class="row no-gutters" id="country-info" style="height: 150px; margin-top: 2%;" ;>
								<!-- Name + number of users -->
								<div class="col-9 no-gutters">
									<div class="leftside">
										<h2 id="countryName"></h2>
										<h4 id="numUsers"></h4>
									</div>
								</div>
								<!-- Flag -->
								<div class="col no-gutters">
									<img id="country-flag"
										style="margin-top: 5px; border-width: 0.5px; border-style: solid;"></img>
								</div>
							</div>

							<!-- First row of stats -->
							<div class="row" id="country-stats-1">
								<!-- Top 3 animes -->
								<div class="col-5" id="country-top-animes">
									1 of 2
								</div>
								<!-- Top 5 studios -->
								<div class="col-5" id="country-top-studios">
									2 of 2
								</div>
							</div>

							<!-- Second row of stars -->
							<div class="row" id="country-stats-2">
								<!-- Gender pie chart -->
								<div class="col-5" id="country-gender-balance">
									<svg id="country-gender-pie-chart"></svg>
								</div>
								<!-- Age distribution histogram -->
								<div class="col-5" id="country-age-distribution">
									<svg id="country-age-histogram"></svg>
								</div>
							</div>
							<p id="country-gender-pie-chart-title"></p>

							<p id="country-num-days"></p>
						</div>

					</div>
				</div>
			</div>
		</div>
		<script src="map.js"></script>
		<script src="option_pane.js"></script>
		<script src="info_pane.js"></script>
		<script src="gender_chart.js"></script>
		<script src="age_chart.js"></script>
	</div>

</body>

</html>